# Taak Databases
## Auteurs
Abdullah Yalvac,
Luca Briers,
Nordin Ben-Al-Lal

## Schema  

[![Klassendiagram](https://mermaid.ink/img/pako:eNqFVE2PmzAQ_SuWj1U2AkJ2E1T10OzHpVtV3VxaIVVemGStgo1ss20a5b93bJJggzYLB-znx8zzm7H3tJAl0IwWFdP6lrOtYnUuSq6gMFwK8nmdC7dGHlgNZJ8Lgs8XKbaEbBH5xcsOejKKI2i4qcAjFVJoWcF614yoJbxCJRtQAboFoWDA04XijZXT4bfMAFFQAdNgxx3KhSFsCysrlm94wfofNpVkhjSKF8g95OK0pcdWQ1uHm6odNtQqcKsBUEk_gc39yjU3UulvoH4AU35mEEYxUcA9gA-XUrgYmgSq1sjVrLPfl2Z6_Cyv87jimCHEbG1WsuEQwoPdOSe9uL2bdwKN8VZsAb04WBPDO_UumCd_5dSEpg4UHj0kUDNehVCDIf5I5esjz1yZl17aiYqdUg6aZ1wnsuFKm68OPpwl9k0Z6LzQrKPANRPtBr1p1UADKxVofS_Vd2gYt9BbXeuZ9tCVa7cfl3A3LuzFmr7ZKy6hO8U5jXNKPl5dfcJhNJ1-wNlJQUexo34tZHanJhe-ixgxoMZ90Fz4DT0kjrJfIsde9vd4xzYk1mP70gmtQWHDlXjbOZtzal4A9dEMhyVTv3OKFiGPtUY-7URBsw2rNExo25RYsOPteEYbJn5KiXOj2m5Ksz39S7NFPI1nN_N4tkyvl9FiEU_ojmaz6Ty5SaL5Yp4mSTSLlocJ_ef-j6dRgu8yncXX6SKZp-mEQmkvk8fj5Ww_Jxl3buWo4vAf1kDkzg?type=png)](https://mermaid.live/edit#pako:eNqFVE2PmzAQ_SuWj1U2AkJ2E1T10OzHpVtV3VxaIVVemGStgo1ss20a5b93bJJggzYLB-znx8zzm7H3tJAl0IwWFdP6lrOtYnUuSq6gMFwK8nmdC7dGHlgNZJ8Lgs8XKbaEbBH5xcsOejKKI2i4qcAjFVJoWcF614yoJbxCJRtQAboFoWDA04XijZXT4bfMAFFQAdNgxx3KhSFsCysrlm94wfofNpVkhjSKF8g95OK0pcdWQ1uHm6odNtQqcKsBUEk_gc39yjU3UulvoH4AU35mEEYxUcA9gA-XUrgYmgSq1sjVrLPfl2Z6_Cyv87jimCHEbG1WsuEQwoPdOSe9uL2bdwKN8VZsAb04WBPDO_UumCd_5dSEpg4UHj0kUDNehVCDIf5I5esjz1yZl17aiYqdUg6aZ1wnsuFKm68OPpwl9k0Z6LzQrKPANRPtBr1p1UADKxVofS_Vd2gYt9BbXeuZ9tCVa7cfl3A3LuzFmr7ZKy6hO8U5jXNKPl5dfcJhNJ1-wNlJQUexo34tZHanJhe-ixgxoMZ90Fz4DT0kjrJfIsde9vd4xzYk1mP70gmtQWHDlXjbOZtzal4A9dEMhyVTv3OKFiGPtUY-7URBsw2rNExo25RYsOPteEYbJn5KiXOj2m5Ksz39S7NFPI1nN_N4tkyvl9FiEU_ojmaz6Ty5SaL5Yp4mSTSLlocJ_ef-j6dRgu8yncXX6SKZp-mEQmkvk8fj5Ww_Jxl3buWo4vAf1kDkzg)

## Beschrijving van schema
### Enititeiten
Om de database voor het Video Game History Foundation uit te werken, maken we gebruik van 6 entiteiten. De eerste entiteit is een game, deze bevat een unieke id, een titel, de id van het platform waarop het spel gespeeld kan worden, de maker, het genre, de beschrijving van het spel, de uitgeefdatum, leeftijdscategorie en de prijs. Daarnaast hebben we de gameCopy entiteit, dit kan je zien als de inventaris van games. Hierin kunnen meerdere copies van eenzelfde game steken met elk een unieke id, deze bevat dus ook de game_id en een eventuele museum_id als eer nog geen transactie gebeurd is. We gaan er vanuit dat elke gameCopy op een locatie ligt in een museum als opslagplaats, dus is het museum de volgende entiteit die gekoppeld is aan de game. Het museum bevat ook een unieke id, een naam, locatie, aantal bezoekers per jaar, kost van toegang voor bezoekers en eventuele donaties. Wanneer een gameCopy niet meer op de originele site ligt willen we weten wat ermee gebeurd is, daarvoor vallen we terug op de transactie entiteit, deze bevat het unieke transactie id, de id van de gameCopy waarover het gaat, de id van het museum waar de transactie gebeurd is, de datum en het transactie type (aankoop, huur, donatie), de id van de destination dus ofwel is het handel tussen een client en een museum ofwel wisselen de games van museum. We zullen dus een bepaalde structuur van id moeten volgen om gemakkelijk onderscheid te kunnen maken tussen een museum en een echte klant. Transacties gebeuren door een klant en dat is dus onze volgende entiteit, deze bevat de gegevens van de klant, dus client id, email, wachtwoord, geboortedatum, gender, voor- en achternaam. De bedoeling van transaction is om snel terug te vinden wat er met een gameCopy al allemaal gebeurd is en om een buffer te hebben voor de handel zodat we de geschiedenis van gebeurtenissen makkelijker kunnen bijhouden. Nu kunnen we aan de hand van de transactie entiteit meteen zien waar, wanneer en naar wie een game verplaatst is. Tot slot hebben we de consoleType entiteit, deze bevat de id, naam, uitgeefdatum en fabrikant als variabelen. Deze entiteit is om de games te klassificeren voor welke game console ze zijn. Dit vergemakkelijkt het opzoekwerk naar games van een bepaald platform of als we bijvoorbeeld willen weten welk platform het meeste succes heeft in verhuur.

### Relaties tussen entiteiten 
(Github laat de relaties niet zien op het schema, om deze te zien moet u op de figuur klikken en de Mermaid link volgen)
Tussen de Game en GameCopy entiteit is er een 1-op-veel relatie, 1 game kan meerdere gameCopy's bevatten, maar 1 gameCopy kan max 1 Game bevatten. (De oude nintendo DS kaarten met 300 games in 1 kaart laten we even buiten spel).

Er is een veel-op-veel relatie tussen gameCopy en museum. Er kunnen verschillende gameCopy's zich in meerdere musea bevinden aangezien. Tegelijk kan een museum meer dan één gameCopy bevatten wat dus uiteindelijk een veel-op-veel relatie oplevert. Dit is een representatie van een real-world museum of library die bezocht kan worden om spellen te bekijken. Op het klassendiagram wordt dit getoond als 0..* - 0..* om aan te geven dat een een gameCopy zich in geen of meerdere musea kan bevinden en anderszijds dat een museum geen maar normaliter meerdere gameCopy's bevat. Moest er in het museum een renovatie plaatsvinden of een museum wordt pas gebouwd dan ligt er geen enkele gameCopy.

Tussen de entiteiten consoleType en Game is er een veel-op-veel relatie aanwezig. Een consoleType bevat minstens 1 Game die geschikt is voor dat specifieke consoleType en 1 Game kan zich op meerdere platformen bevinden. Indien men een bepaalde Game zoekt om te huren of te kopen van een museum, maar niet weet of die bijvoorbeeld voor de Nintendo DS bestaat, kan men dus ook controleren of de gekozen game bestaat voor de klant zijn console. Als die bestaat kunnen we ze snel opzoeken of deze nog beschikbaar is in de GameCopy entiteit. Op het klassendiagram geven we dit aan met 1..* - 1..* aangezien elke Game ontworpen wordt om op zijn minst op 1 platform te werken en omgekeerd wordt een platform/consoleType gemaakt met de bedoeling dat het minstens één maar liefst meer games ondersteunt.

Wanneer een gameCopy gekocht wordt, bevatten de entiteiten Transaction en GameCopy een veel-op-veel relatie, 1 transactie kan meerdere gameCopys bevatten. Maar een gameCopy kan meerdere transacties ondergaan. Eerst huurt klant A hem, daarna klant B, daarna klant C... Dus deze gameCopy zal in de Transaction tabel 3 rijen hebben. 
Tussen Museum en Transaction is er ook een 1-op-veel relatie. De transaction entiteit zorgt ervoor dat een client of persoon interactie kan hebben met een museum. Een museum kan meerdere transacties hebben maar een bepaalde transactie heeft slechts betrekking tot één van de musea. Als je bijvoorbeeld Minecraft wil ophalen van Museum X, is dat een specifieke transactie gelinkt aan Museum X. Andersom kan een museum meerdere transacties behandelen wat ons uiteindelijk een 1-op-veel relatie oplevert. 

Client-Transaction is dan een 1-op-veel relatie. Interactie met een museum gebeurt aan de hand van een transaction. Elke transaction die plaatsvindt is specifiek aan een client terwijl een client meerdere transacties kan uitvoeren. Hier stelt een client een persoon voor die bijvoorbeeld een game wil checken of het beschikbaar is in een museum OF een museum dat een gameCopy van een ander museum overneemt. We achten een relatie tussen client-transactie nodig omdat een transactie zelf ook wat aspecten bevat die niet helemaal bij een client zouden passen, waarbij we bij een client eerder focussen op "account" gedeelte van een persoon.

MAAR niet elke transactie hoeft een gameCopy te bevatten, wanneer een client een museum bezoekt en een donatie achterlaat, is hier geen enkele GameCopy bij betrokken. Daarom is de variabele transactionType heel handig om zo onderscheid te maken tussen het soort van transaction. We gaan om het overzichtelijk te houden een entry + eventuele donatie EN het meenemen van games als aparte transactie zien.  

Tot slot hebben we de relatie tussen Museum en Transaction wat een 1 - 1..* relatie is, een museum kan meerdere transacties maken, maar een transactie kan maar met 1 museum gebeuren aangezien we zeggen dat wanneer er gewisseld wordt van museum A naar museum B, museum B een client is in onze transactie met een bepaalde client_id die herkenbaar is. Elke transactie heeft wel minstens 1 museum nodig.


### Taak databases todo:
-data aanmaken
-museum to museum transactie nog eens bekijken, handiger om vakjes te maken museumIdFrom, museumIdTo en museumIdTo mag null zijn

